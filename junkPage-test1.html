<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>junkPage</title>

  <link rel="stylesheet" type="text/css" href="index.css">
    <style media="screen">

      #beforeNameInput{
        text-align: left;
        margin: 0% 0% -2% 5.2%;
        font-size: 70%;
      }

      #beforeNameInput2{
        margin: 1% -2% 1% 5%;
        float: left;
        color: rgba(255,41,86,1);

      }

      #name-input{
        background-color: rgba(244,177,175,1);
        text-align: center;
        font-size: 78%;
        border-color: rgba(255,107,136,1);
        border-style: solid;
        border-width: 2px;
        border-radius: 5px; /*테두리 둥글게*/
        width: 50%;
        margin: 2% 2% 2% -2%;
        padding:  2% 7% 2% 7%;

      }

      #findStar{
        border: none;
        background-color: rgba(255,41,86,1);
        border-radius: 12px;
        width: 95%;
        margin: 2%;
        padding: 4%;
        font-size : 135%;
        -webkit-appearance:none; /*ios의 기본 버튼 css를 무효화*/
      }

      /* #searchBt {
        width : 100px;
        height : 50px;
      } */

    </style>

  </head>




<body>
  <div class="allContentsButFooter"><!-- footer를 제외한 모든것 -->


    <div class="menu">
      <p id="dotMenu"><img src="image/dot-24px.png" alt="우상단메뉴"></p>
      <p id="moong">designed by moong</p>
    </div><!--메뉴 div 끝  -->

    <div id="contactUs" role="alert">
      <div id="contectUs-content">
        <table>
          <tr><td>
              <h2 class="contectUs-left">Contact Us</h3>
              <div class="contectUs-right"><p>Do you have any problem?</p><p>Do you have any idea?</p></div>
          </td></tr>
          <tr><td class="contectUs-bottom-background">
          <div class="contectUs-bottom">
            <p>Moong_mib@gmail.com</p>
            <p> Moong mib @ Instagram Url : http://Lorem ips um dolor sit amet,</p>
            <p>Moong mib @ Facebook Url : http://consectetur adipiscing elit, sed do eiusmod tempor</p></div>
          </td></tr>
        </table>
      </div>
    </div>

      <h1 id="title">Find my star</h1><!-- 상단타이틀 -->

      <img id="mainPlanetImg" src="image/freePlanet.png" alt="행성이미지">
    <div id="contents">
      <h2 id="content1">You can 'Find My Star'</h2>
      <p id="content2"> Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Bibendum est ultricies integer quis. Iaculis </p>
    </div>

    <div class="activeThings">
      <p id="beforeNameInput">Please sumbmit your name.</p>
      <h2 id="beforeNameInput2">Name :</h2>
      <form> <!-- 폼 div -->
          <input type="text" name="name" id="name-input" placeholder="Please sumit your name."><br>
          <br><!-- 사이간견 띄우기 -->
          <input type="button" name="search" id="findStar" value="Find My Star">
      </form>
    </div>   <!-- 폼 div -->


    <div id="loadingDiv">
      <p class="ads" id="loadingTopAds">Maybe Ads wii be here</p>
      <p id="loadingIcon"><img src="image/dot-24px.png" alt="로딩아이콘"></p>
      <p id="loadingText">Wait a second Please...</p>
    </div>

      <p class="ads" id="BottomAds">Maybe Ads wii be here</p>



    <script src="jquery-3.4.1.min.js"></script>
    <!-- <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo="
  crossorigin="anonymous"></script> -->
    <script src="basicScript.js"></script>
    <script>


//한글만 입력가능하게 만드는 코드 여기부터
    // $("#name-input").on("keyup", function() {
    //     // $(this).val($(this).val().replace(/[a-z0-9]|[ \[\]{}()<>?|`~!@#$%^&*-_+=,.;:\"'\\]/g,""));
    //       //여기까지 한글만 입력가능하게 만드는 코드
    //       $(this).val($(this).val().replace(/[^\!-z]/g,""));//영문만입력가능 코드
    // });

    //글이 입력되면 #name-input과 #findStar의 색을 초록색으로 비어있다면 빨간색으로 표시
    $('#name-input').on('input', checkInput);
    function checkInput(){
      var userName = $('#name-input').val();
      if(userName === ''){//빈칸이라면 아래
        $('#beforeNameInput2').css('color', 'rgba(255,41,86,1)');
        $('#name-input').css('background-color', 'rgba(244,177,175,1)');//이름칸 속 색
        $('#name-input').css('border-color', 'rgba(255,107,136,1)');//이름칸 테두리 색
        $('#findStar').css('background-color', 'rgba(255,41,86,1)');//버튼 색
      }else {//빈칸이아니라면 아래
        $('#beforeNameInput2').css('color', 'rgba(11,182,140,1)');
        $('#name-input').css('background-color', 'rgba(168,207,192,1)');//속 색
        $('#name-input').css('border-color', 'rgba(11,182,140,1)');// 테두리 색
        $('#findStar').css('background-color', 'rgba(11,182,140,1)');//버튼 색
      }
    }

    //버튼 클릭시 글들과 입력,버튼 모두 사라지며 로딩 아이콘 및 ads 생성
    $('#findStar').on('click', appearLoading);
    function appearLoading(){

    var userName = $('#name-input').val()

    if (userName != "") {
    $('#contents').css('display', 'none')
    $('.activeThings').css('display', 'none')
    }else {
      }
    }

    $('#findStar').on('click', loadingIconFadeIn);
    function loadingIconFadeIn(){

    var userName = $('#name-input').val()

    if (userName != "") {
    $('#loadingIcon').fadeIn(100);
    $('#loadingText').fadeIn(100);
    $('#loadingTopAds').fadeIn(100);
    }else {
    }
    } //버튼 클릭시 글들이 사라지며 로딩 ads 아이콘 생성


    //loadingIcon 클릭시 팝업창 보이기
    $('#loadingIcon').on('click', contactUsFadeIn);

    function contactUsFadeIn(){
    $('#contactUs').fadeIn(500);
    }; //loadingIcon 클릭시 팝업창 보이기



// 행성찾기를 하는 코드 시작
      $('#findStar').on('click', seachPlanet);//찾기를 누를때 함수 실행

        function seachPlanet(){
        var userName = $('#name-input').val() //userName의 값에 기입된 이름을 넣는다
        // var userNameCheck = RegExp(/^[가-힣]{2,4}$/);//한글만 적기 정규식, 글자수 제한
        // var userNameCheck = RegExp(/^[A-Za-z_\-]{2,20}$/);//영문만 적기 정규식, 글자수 제한
        // if(userNameCheck.test(userName)){
          if(userName != ""){

          //sleep 함수 대체 코드 생성
          function sleep(ms) {
          return new Promise(resolve=>setTimeout(resolve, ms));
        }

          (async function() {

          await sleep(3000);// 지연 시간 설정

            function random_plant(){}

            var number = 0;
                      //별들 목록
            random_plant[number++] =  "yourPlanet1.html"
            // random_plant[number++] =  "yourPlanet2.html"
            // random_plant[number++] =  "yourPlanet3.html"


            var random_number = Math.floor(Math.random() * number);
            //ㄴ>난수 생성
            location.href =  random_plant[random_number] + '?index=' + userName;
            //ㄴ> 유저네임을 붙혀 새로운 페이지로 이동
          })();// 정확히 닫아줘야한다.

        }else{
          alert('Please sumit your name.')
        }
      }
// 행성찾기를 하는 코드 끝

    </script>



</body>
</html>
